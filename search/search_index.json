{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"In\u00edcio","text":"<p>Meu Querido Di\u00e1rio \u00e9 uma aplica\u00e7\u00e3o desenvolvida no \u00e2mbito da Ger\u00eancia de Cadastro e Arrecada\u00e7\u00e3o (GEARC) da FUNPRESP-JUD, com o objetivo de automatizar o monitoramento de movimenta\u00e7\u00f5es funcionais de servidores p\u00fablicos publicadas no Di\u00e1rio Oficial da Uni\u00e3o (DOU).</p> <p>Essa ferramenta visa ampliar a efici\u00eancia e a precis\u00e3o no acompanhamento de nomea\u00e7\u00f5es, vac\u00e2ncias, cess\u00f5es, redistribui\u00e7\u00f5es e demais atos administrativos relevantes ao regime de previd\u00eancia dos servidores vinculados \u00e0 Funda\u00e7\u00e3o.</p>"},{"location":"#proposito","title":"\ud83e\udde0 Prop\u00f3sito","text":"<p>O projeto surgiu da necessidade de substituir processos manuais e suscet\u00edveis a erros por uma solu\u00e7\u00e3o automatizada, capaz de realizar varreduras di\u00e1rias no DOU, extrair e interpretar as informa\u00e7\u00f5es relevantes, al\u00e9m de disponibiliz\u00e1-las de forma estruturada para a equipe respons\u00e1vel.</p>"},{"location":"#como-funciona","title":"\u2699\ufe0f Como Funciona","text":"<p>A rotina de execu\u00e7\u00e3o do sistema \u00e9 realizada automaticamente em dias \u00fateis e segue os seguintes passos principais:</p> <ol> <li> <p>Coleta dos Dados:    A aplica\u00e7\u00e3o acessa o site do DOU para capturar os links de todas as publica\u00e7\u00f5es do dia anterior. Cada link \u00e9 acessado individualmente e seu conte\u00fado HTML \u00e9 extra\u00eddo.</p> </li> <li> <p>Leitura com IA:    O conte\u00fado das postagens \u00e9 interpretado utilizando um modelo de linguagem por meio do G4F (GPT4Free), que retorna um JSON estruturado com os dados extra\u00eddos.</p> </li> <li> <p>Extra\u00e7\u00e3o e Estrutura\u00e7\u00e3o:    As informa\u00e7\u00f5es do JSON s\u00e3o processadas e inseridas em um dataframe, garantindo padroniza\u00e7\u00e3o, clareza e integridade dos dados.</p> </li> <li> <p>Armazenamento:    Os dados s\u00e3o registrados no banco de dados da Funda\u00e7\u00e3o, ficando dispon\u00edveis para an\u00e1lise e a\u00e7\u00f5es internas.</p> </li> <li> <p>Notifica\u00e7\u00f5es de Erro:    Em caso de falhas no processo (como indisponibilidade do site, falhas de leitura ou conex\u00e3o), um e-mail autom\u00e1tico \u00e9 enviado ao gerente respons\u00e1vel, contendo os detalhes do erro ocorrido.</p> </li> </ol>"},{"location":"#detalhamento","title":"\ud83d\udd0d Detalhamento","text":"<p>Este site cont\u00e9m p\u00e1ginas dedicadas a explicar cada componente da aplica\u00e7\u00e3o com mais profundidade, incluindo:</p> <ul> <li>Coleta de dados no DOU</li> <li>Leitura automatizada com IA</li> <li>Tratamento de erros e notifica\u00e7\u00f5es</li> <li>Estrutura dos dados salvos no banco</li> <li>Casos de uso reais e aplica\u00e7\u00f5es pr\u00e1ticas</li> </ul>"},{"location":"#publico-alvo","title":"\ud83d\udc68\u200d\ud83d\udcbb P\u00fablico-Alvo","text":"<p>O sistema \u00e9 destinado aos colaboradores da FUNPRESP-JUD, especialmente \u00e0 equipe da GEARC, mas tamb\u00e9m pode ser \u00fatil a outras \u00e1reas interessadas no acompanhamento sistematizado das publica\u00e7\u00f5es no DOU.</p>"},{"location":"#tecnologias-utilizadas","title":"\ud83e\udde9 Tecnologias Utilizadas","text":"<ul> <li>Python</li> <li>Selenium</li> <li>Pandas</li> <li>G4F (GPT4Free)</li> <li>MkDocs</li> <li>SMTP para envio de e-mails</li> <li>Banco de dados SQL Server</li> </ul>"},{"location":"#desenvolvedores-do-projeto","title":"Desenvolvedores do Projeto","text":"Nome Fun\u00e7\u00e3o git-hub Atividade Giovani Rocha Supervisor do Projeto / Gerente -- Ativo Andr\u00e9 Machado Supervisor do Projeto / Supervisor -- Ativo Marcos Marinho Desenvolvedor / Estagi\u00e1rio -- Ativo Marcelo Sampaio Desenvolvedor / Estagi\u00e1rio -- Ativo Gabriel Delmondes Desenvolvedor / Estagi\u00e1rio -- Inativo"},{"location":"pages/coleta/","title":"\ud83d\udcc4 Extra\u00e7\u00e3o de Dados do Di\u00e1rio Oficial da Uni\u00e3o (DOU)","text":""},{"location":"pages/coleta/#objetivo","title":"Objetivo","text":"<p>Este m\u00f3dulo realiza a raspagem automatizada de links e dados do Di\u00e1rio Oficial da Uni\u00e3o (DOU), se\u00e7\u00e3o 2, a partir de uma data fornecida. O foco principal \u00e9 identificar movimenta\u00e7\u00f5es funcionais, como nomea\u00e7\u00f5es, exonera\u00e7\u00f5es, aposentadorias e similares, publicadas por \u00f3rg\u00e3os selecionados.</p>"},{"location":"pages/coleta/#funcionalidades","title":"\u2699\ufe0f Funcionalidades","text":"<ul> <li>Raspagem de links do DOU via Selenium.</li> <li>Filtragem por \u00f3rg\u00e3os de interesse: <code>Poder Judici\u00e1rio</code>, <code>Minist\u00e9rio P\u00fablico da Uni\u00e3o</code>, <code>Conselho Nacional do Minist\u00e9rio P\u00fablico</code>.</li> <li>Requisi\u00e7\u00e3o segura e resiliente via <code>requests</code> com backoff exponencial.</li> <li>Extra\u00e7\u00e3o e estrutura\u00e7\u00e3o dos dados relevantes das publica\u00e7\u00f5es.</li> <li>Filtragem textual com express\u00f5es regulares de termos funcionais.</li> <li>Enriquecimento com c\u00f3digos e siglas institucionais via mapeamentos externos.</li> </ul>"},{"location":"pages/coleta/#modulos-utilizados","title":"\ud83e\udde9 M\u00f3dulos Utilizados","text":"<ul> <li><code>pandas</code> \u2013 estrutura\u00e7\u00e3o e tratamento de dados.</li> <li><code>selenium</code> \u2013 raspagem de links din\u00e2micos no site da Imprensa Nacional.</li> <li><code>requests</code> &amp; <code>BeautifulSoup</code> \u2013 obten\u00e7\u00e3o e parsing dos conte\u00fados das publica\u00e7\u00f5es.</li> <li><code>re</code> \u2013 express\u00f5es regulares para filtragem textual.</li> <li><code>time</code>, <code>urllib3</code> \u2013 controle de tempo e conex\u00e3o SSL.</li> </ul>"},{"location":"pages/coleta/#fluxo-principal","title":"\ud83d\udd04 Fluxo Principal","text":""},{"location":"pages/coleta/#1-scrape_in_linksdia-mes-ano","title":"1. <code>scrape_in_links(dia, mes, ano)</code>","text":"<p>Respons\u00e1vel por:</p> <ul> <li>Acessar a edi\u00e7\u00e3o do DOU correspondente \u00e0 data fornecida.</li> <li>Rastrear e coletar os links das publica\u00e7\u00f5es de interesse.</li> <li>Retornar um <code>DataFrame</code> com os dados processados.</li> </ul> <p>Passos:</p> <ol> <li>Inicia um navegador headless via Selenium.</li> <li>Acessa a URL base do DOU para o dia informado.</li> <li>Seleciona os \u00f3rg\u00e3os de interesse no campo de filtro.</li> <li> <p>Para cada \u00f3rg\u00e3o:</p> </li> <li> <p>Navega entre as p\u00e1ginas.</p> </li> <li>Coleta os links das publica\u00e7\u00f5es (via seletor <code>a[href*=\"web/dou\"]</code>).</li> <li>Cria um <code>DataFrame</code> de links.</li> <li>Passa os links \u00fanicos para <code>processar_links_df()</code>.</li> </ol>"},{"location":"pages/coleta/#2-processar_links_dfdf","title":"2. <code>processar_links_df(df)</code>","text":"<p>Respons\u00e1vel por:</p> <ul> <li>Processar todos os links coletados e estruturar os dados extra\u00eddos.</li> </ul> <p>Passos:</p> <ol> <li>Para cada link, chama a fun\u00e7\u00e3o <code>extrair_dados(link)</code>.</li> <li>Cria um <code>DataFrame</code> consolidado.</li> <li>Aplica os mapeamentos de <code>CODIGO</code> e <code>SIGLA</code> do \u00f3rg\u00e3o.</li> <li>Formata a data para <code>YYYY/MM/DD</code>.</li> <li>Filtra as publica\u00e7\u00f5es que contenham termos relevantes via regex extensa.</li> </ol>"},{"location":"pages/coleta/#3-extrair_dadoslink","title":"3. <code>extrair_dados(link)</code>","text":"<p>Respons\u00e1vel por:</p> <ul> <li>Realizar a requisi\u00e7\u00e3o ao conte\u00fado da publica\u00e7\u00e3o e extrair os dados relevantes.</li> </ul> <p>Dados extra\u00eddos:</p> <ul> <li><code>DATA_PUB</code>: Data de publica\u00e7\u00e3o.</li> <li><code>IDENTIFICACAO</code>: T\u00edtulo ou identifica\u00e7\u00e3o do ato.</li> <li><code>ORGAO</code>: \u00d3rg\u00e3o respons\u00e1vel.</li> <li><code>TEXTO</code>: Corpo textual da publica\u00e7\u00e3o.</li> <li><code>LINK</code>: URL da publica\u00e7\u00e3o.</li> </ul> <p>L\u00f3gicas adicionais:</p> <ul> <li>Retentativas autom\u00e1ticas com controle de tempo e tratamento de exce\u00e7\u00f5es.</li> <li>Fallbacks para diferentes seletores HTML (ex: <code>.dou-paragraph</code>, <code>.identifica</code>, etc.).</li> </ul>"},{"location":"pages/coleta/#4-obter_codigo_orgaoorgao-e-obter_sigla_orgaoorgao","title":"4. <code>obter_codigo_orgao(orgao)</code> e <code>obter_sigla_orgao(orgao)</code>","text":"<p>Respons\u00e1veis por:</p> <ul> <li> <p>Realizar o mapeamento do nome do \u00f3rg\u00e3o para seu respectivo c\u00f3digo e sigla, usando os dicion\u00e1rios:</p> </li> <li> <p><code>mapa_orgao_codigos</code></p> </li> <li><code>mapa_orgao_siglas</code></li> </ul>"},{"location":"pages/coleta/#robustez-do-codigo","title":"\ud83d\udee1\ufe0f Robustez do C\u00f3digo","text":"<ul> <li>Retentativas com backoff exponencial em <code>requests</code> e Selenium.</li> <li>Tratamento de exce\u00e7\u00f5es detalhado para evitar falhas inesperadas.</li> <li>Extra\u00e7\u00e3o tolerante a falhas com seletores alternativos e verifica\u00e7\u00f5es de conte\u00fado.</li> <li>Desativa\u00e7\u00e3o de SSL warnings, \u00fatil em ambientes restritivos.</li> </ul>"},{"location":"pages/coleta/#filtros-de-texto-aplicados","title":"\ud83d\udd0d Filtros de Texto Aplicados","text":"<p>Utiliza um padr\u00e3o regex robusto para identificar express\u00f5es como:</p> <ul> <li><code>nomear</code>, <code>exonerar</code>, <code>aposentar</code>, <code>licenciar</code>, <code>remover</code>, <code>redistribuir</code>, <code>requisitar</code>, <code>substituir</code>, <code>falecimento</code>, etc.</li> <li>Express\u00f5es formais com base em artigos de lei, como: <code>art. 7\u00ba</code>, <code>artigo 127</code>, etc.</li> </ul>"},{"location":"pages/coleta/#exemplo-de-saida-dataframe-final","title":"\ud83d\uddc3\ufe0f Exemplo de Sa\u00edda (<code>DataFrame</code> Final)","text":"DATA_PUB IDENTIFICACAO LINK ORGAO CODIGO SIGLA TEXTO 2025/05/13 Portaria n\u00ba 123/2025 https://... Tribunal X 0001 TRX ..."},{"location":"pages/coleta/#observacoes","title":"\ud83d\udcce Observa\u00e7\u00f5es","text":"<ul> <li> <p>Depend\u00eancias:</p> </li> <li> <p><code>app.utils.mapeamento</code> deve conter os mapeamentos <code>mapa_orgao_codigos</code> e <code>mapa_orgao_siglas</code>.</p> </li> <li> <p>Ambiente recomendado:</p> </li> <li> <p>Google Chrome instalado (via <code>webdriver-manager</code>).</p> </li> <li>Ideal rodar em ambientes com suporte a <code>headless Chrome</code>.</li> </ul>"},{"location":"pages/executar/","title":"\ud83d\udcc4 Manual de Execu\u00e7\u00e3o \u2013 Meu Querido Di\u00e1rio","text":"<p>Este manual explica como executar o sistema Meu Querido Di\u00e1rio, respons\u00e1vel por automatizar a coleta, leitura e envio de informa\u00e7\u00f5es do Di\u00e1rio Oficial da Uni\u00e3o (DOU).</p>"},{"location":"pages/executar/#requisitos","title":"\ud83d\udee0\ufe0f Requisitos","text":"<ul> <li>Para executar o arquivo <code>.exe</code>, n\u00e3o \u00e9 necess\u00e1rio instalar Python.</li> <li>Para executar o c\u00f3digo diretamente (via <code>main.py</code>), instale o Python 3.10+ e as depend\u00eancias.</li> </ul>"},{"location":"pages/executar/#instalacao-do-python-e-dependencias-modo-desenvolvedor","title":"\ud83d\udc0d Instala\u00e7\u00e3o do Python e Depend\u00eancias (Modo Desenvolvedor)","text":""},{"location":"pages/executar/#1-instale-o-python-310","title":"1. Instale o Python 3.10+","text":"<p>Baixe e instale o Python 3.10+. Durante a instala\u00e7\u00e3o, marque a op\u00e7\u00e3o:</p> <p>\u2705 Add Python to PATH</p>"},{"location":"pages/executar/#2-instale-as-dependencias","title":"2. Instale as depend\u00eancias","text":"<p>No terminal, navegue at\u00e9 a pasta do projeto e execute:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>Se o arquivo <code>requirements.txt</code> n\u00e3o existir, crie um com o seguinte conte\u00fado:</p> <pre><code>pandas\npyodbc\npython-dotenv\nmatplotlib\nrequests\nbeautifulsoup4\nselenium\nwebdriver-manager\ng4f==0.5.0.4\n</code></pre>"},{"location":"pages/executar/#execucao","title":"\u25b6\ufe0f Execu\u00e7\u00e3o","text":""},{"location":"pages/executar/#usuario-comum","title":"\u2705 Usu\u00e1rio Comum","text":"<p>D\u00ea dois cliques no arquivo <code>Meu Querido Di\u00e1rio v2.0.exe</code> ou execute no terminal:</p> <pre><code>.\\Meu Querido Di\u00e1rio v2.0.exe\n</code></pre> <p>Certifique-se de que os arquivos <code>cc_list.txt</code> e <code>cc_list_erro.txt</code> estejam no mesmo diret\u00f3rio.</p>"},{"location":"pages/executar/#desenvolvedor","title":"\ud83e\uddea Desenvolvedor","text":"<p>Se for executar o c\u00f3digo diretamente, use um dos comandos abaixo no terminal:</p> <pre><code>python -m app.main\n</code></pre> <p>ou</p> <pre><code>python app/main.py\n</code></pre>"},{"location":"pages/executar/#observacoes","title":"\ud83e\uddfe Observa\u00e7\u00f5es","text":"<ul> <li>Arquivos importantes:<ul> <li><code>cc_list.txt</code>: lista de e-mails para c\u00f3pia das comunica\u00e7\u00f5es.</li> <li><code>cc_list_erro.txt</code>: lista de e-mails para alertas em caso de erro.</li> <li><code>.env</code>: arquivo para configurar vari\u00e1veis sens\u00edveis, como senhas e conex\u00f5es.</li> </ul> </li> <li>Certifique-se de que todos os arquivos necess\u00e1rios estejam no mesmo diret\u00f3rio do execut\u00e1vel ou script.</li> </ul>"},{"location":"pages/interpretacao/","title":"\ud83e\udd16 Processamento de Publica\u00e7\u00f5es do DOU com IA (G4F)","text":""},{"location":"pages/interpretacao/#objetivo","title":"Objetivo","text":"<p>Este m\u00f3dulo utiliza um modelo de linguagem da API G4F (GPT-4o) para realizar a interpreta\u00e7\u00e3o sem\u00e2ntica das publica\u00e7\u00f5es extra\u00eddas do DOU, transformando o texto bruto em estruturas JSON contendo a\u00e7\u00f5es funcionais identificadas (como nomea\u00e7\u00f5es, vac\u00e2ncias, aposentadorias etc.).</p>"},{"location":"pages/interpretacao/#funcionalidades","title":"\u2699\ufe0f Funcionalidades","text":"<ul> <li>An\u00e1lise de texto via IA gratuita (G4F API).</li> <li> <p>Extra\u00e7\u00e3o de estruturas JSON padronizadas contendo:</p> </li> <li> <p>A\u00e7\u00e3o funcional (ex: \"Nomeado\", \"Exonerar\").</p> </li> <li>Nome do servidor (se identificado).</li> <li>Cargo (se identificado).</li> <li>Toler\u00e2ncia a erros e limites de requisi\u00e7\u00f5es.</li> <li>Loop de retentativas com controle de tempo.</li> </ul>"},{"location":"pages/interpretacao/#modulos-utilizados","title":"\ud83e\udde9 M\u00f3dulos Utilizados","text":"<ul> <li><code>pandas</code> \u2013 estrutura\u00e7\u00e3o de dados tabulares.</li> <li><code>time</code> \u2013 controle de tempo de execu\u00e7\u00e3o e espera entre tentativas.</li> <li><code>g4f.client</code> \u2013 API para chamada de modelos GPT open-source gratuitos.</li> </ul>"},{"location":"pages/interpretacao/#fluxo-principal","title":"\ud83d\udd04 Fluxo Principal","text":""},{"location":"pages/interpretacao/#1-generate_responsetext","title":"1. <code>generate_response(text)</code>","text":"<p>Respons\u00e1vel por:</p> <ul> <li>Enviar o texto da publica\u00e7\u00e3o ao modelo GPT.</li> <li>Receber uma resposta JSON estruturada com as a\u00e7\u00f5es identificadas.</li> </ul> <p>Par\u00e2metros da prompt:</p> <ul> <li>Texto da publica\u00e7\u00e3o do DOU.</li> <li>Lista pr\u00e9-definida de termos aceitos como a\u00e7\u00f5es v\u00e1lidas.</li> <li>Exig\u00eancia de retorno exclusivamente no formato especificado, como:</li> </ul> <pre><code>[\n  {\"a\u00e7\u00e3o\": \"Nomeado\", \"Nome\": \"Jo\u00e3o Silva\", \"Cargo\": \"Analista\"},\n  {\"a\u00e7\u00e3o\": \"Exonerar\", \"Nome\": \"Maria Souza\", \"Cargo\": \"T\u00e9cnica\"}\n]\n</code></pre> <p>Robustez:</p> <ul> <li>Tenta at\u00e9 30 vezes em caso de erro de resposta.</li> <li>Detecta mensagens de erro conhecidas (ex: \"rate limit\", \"model not found\").</li> <li>Controla o tempo de espera entre tentativas: entre 3 e 10 segundos, com backoff adaptativo.</li> <li>Em caso de falhas consecutivas, retorna <code>'[]'</code>.</li> </ul>"},{"location":"pages/interpretacao/#2-ler_dataframe_diariodf","title":"2. <code>ler_dataframe_diario(df)</code>","text":"<p>Respons\u00e1vel por:</p> <ul> <li>Iterar sobre o DataFrame resultante da raspagem do DOU.</li> <li>Aplicar <code>generate_response()</code> a cada item da coluna <code>TEXTO</code>.</li> <li>Criar nova coluna <code>Resposta_Gerada</code> com os JSONs extra\u00eddos por IA.</li> </ul> <p>Fluxo:</p> <ol> <li>Converte a coluna <code>TEXTO</code> em uma lista.</li> <li> <p>Itera por \u00edndice com controle expl\u00edcito:</p> </li> <li> <p>Se a resposta for inv\u00e1lida, repete a mesma linha ap\u00f3s esperar.</p> </li> <li>S\u00f3 avan\u00e7a para o pr\u00f3ximo item se a resposta for v\u00e1lida.</li> <li>Calcula o tempo total de execu\u00e7\u00e3o.</li> <li>Retorna o DataFrame atualizado.</li> </ol> <p>Sa\u00edda esperada:</p> TEXTO Resposta_Gerada \"Fica nomeado...\" <code>[{\"a\u00e7\u00e3o\": \"Nomeado\", \"Nome\": \"Carlos Silva\", \"Cargo\": \"Diretor\"}]</code>"},{"location":"pages/interpretacao/#consideracoes-de-robustez","title":"\ud83d\udee1\ufe0f Considera\u00e7\u00f5es de Robustez","text":"<ul> <li>Resili\u00eancia a quedas da API G4F, erros 404, rate limit e respostas irrelevantes.</li> <li>Backoff escalonado em tentativas falhas.</li> <li>Controle de erro por n\u00famero de tentativas com log intermedi\u00e1rio.</li> <li>Garante que a IA responda apenas com o formato JSON solicitado.</li> </ul>"},{"location":"pages/interpretacao/#integracao-com-etapas-anteriores","title":"\ud83d\uddc3\ufe0f Integra\u00e7\u00e3o com Etapas Anteriores","text":"<p>Este m\u00f3dulo \u00e9 aplicado ap\u00f3s o processo de raspagem do DOU (<code>scrape_in_links</code> \u2192 <code>processar_links_df</code>) e utiliza o <code>DataFrame</code> resultante, enriquecendo-o com interpreta\u00e7\u00f5es estruturadas por IA.</p>"},{"location":"pages/interpretacao/#observacoes-finais","title":"\ud83d\udca1 Observa\u00e7\u00f5es Finais","text":"<ul> <li>A biblioteca <code>g4f</code> \u00e9 experimental e gratuita; portanto, este m\u00f3dulo j\u00e1 contempla tratamento preventivo contra instabilidade.</li> <li>Caso seja necess\u00e1rio um servi\u00e7o mais est\u00e1vel ou com SLA, recomenda-se integra\u00e7\u00e3o futura com a API oficial da OpenAI ou modelos locais.</li> </ul>"},{"location":"pages/padroniza/","title":"\ud83d\udcc4 Documenta\u00e7\u00e3o: Processamento P\u00f3s-Leitura por IA","text":"<p>Ap\u00f3s a leitura e interpreta\u00e7\u00e3o inicial dos textos extra\u00eddos do Di\u00e1rio Oficial da Uni\u00e3o por modelos de Intelig\u00eancia Artificial (IA), o DataFrame resultante (<code>df</code>) passa por uma s\u00e9rie de etapas de extra\u00e7\u00e3o, normaliza\u00e7\u00e3o e padroniza\u00e7\u00e3o de dados com o objetivo de consolidar as informa\u00e7\u00f5es funcionais (nomea\u00e7\u00f5es, exonera\u00e7\u00f5es, aposentadorias etc.). A seguir, descrevemos detalhadamente essas etapas:</p>"},{"location":"pages/padroniza/#1-extracao-de-dados-json-da-resposta-da-ia","title":"\ud83d\udd0d 1. Extra\u00e7\u00e3o de Dados JSON da Resposta da IA","text":""},{"location":"pages/padroniza/#funcoes-principais","title":"Fun\u00e7\u00f5es principais:","text":"<ul> <li><code>safe_literal_eval(text)</code>: Avalia strings com estrutura JSON de forma segura.</li> <li><code>preprocess_string(s)</code>: Remove caracteres problem\u00e1ticos como <code>\\n</code> e <code>\\\\</code>.</li> <li><code>extract_data(resposta)</code>: Interpreta a string JSON gerada pela IA e extrai as informa\u00e7\u00f5es estruturadas.</li> </ul>"},{"location":"pages/padroniza/#informacoes-extraidas","title":"Informa\u00e7\u00f5es extra\u00eddas:","text":"<p>Cada entrada JSON deve conter os campos: - <code>a\u00e7\u00e3o</code> - <code>Nome</code> - <code>Cargo</code></p> <p>Esses dados s\u00e3o transformados em tuplas do tipo <code>(TIPO, NOME, CARGO)</code>.</p>"},{"location":"pages/padroniza/#2-explosao-e-organizacao-do-dataframe","title":"\ud83d\udcca 2. Explos\u00e3o e Organiza\u00e7\u00e3o do DataFrame","text":""},{"location":"pages/padroniza/#processo","title":"Processo:","text":"<ul> <li>Coluna <code>Resposta_Gerada</code> \u2192 aplicada com <code>extract_data</code>.</li> <li>Resultado explode a coluna <code>extracted_data</code> para m\u00faltiplas linhas.</li> <li>Gera\u00e7\u00e3o de um novo DataFrame com as colunas:</li> <li><code>TIPO</code> (a\u00e7\u00e3o funcional)</li> <li><code>NOME</code> (nome do servidor)</li> <li><code>CARGO</code> (cargo indicado)</li> <li>Linhas sem <code>TIPO</code> ou <code>NOME</code> s\u00e3o descartadas para maior confiabilidade.</li> </ul>"},{"location":"pages/padroniza/#3-limpeza-e-padronizacao-de-texto","title":"\ud83e\uddf9 3. Limpeza e Padroniza\u00e7\u00e3o de Texto","text":""},{"location":"pages/padroniza/#funcoes-aplicadas","title":"Fun\u00e7\u00f5es aplicadas:","text":"<ul> <li><code>remover_acentos(texto)</code>: Remove acentua\u00e7\u00e3o de caracteres.</li> <li><code>limpar_texto(texto)</code>: Limpa o texto, remove s\u00edmbolos, acentos e deixa em caixa baixa.</li> </ul>"},{"location":"pages/padroniza/#4-mapeamento-e-padronizacao-de-tipos-de-acoes","title":"\ud83e\udded 4. Mapeamento e Padroniza\u00e7\u00e3o de Tipos de A\u00e7\u00f5es","text":""},{"location":"pages/padroniza/#funcao","title":"Fun\u00e7\u00e3o:","text":"<ul> <li><code>padronizar_tipo(texto)</code></li> </ul>"},{"location":"pages/padroniza/#objetivo","title":"Objetivo:","text":"<ul> <li>Consolidar diversas varia\u00e7\u00f5es de uma mesma a\u00e7\u00e3o funcional em categorias padronizadas, como:</li> <li><code>\"nomear\"</code> para todas as formas de nomea\u00e7\u00e3o.</li> <li><code>\"aposentadoria\"</code> para aposentadorias e benef\u00edcios similares.</li> <li><code>\"dispensa\"</code>, <code>\"exoneracao\"</code>, <code>\"remocao\"</code>, <code>\"designacao\"</code>, etc.</li> </ul>"},{"location":"pages/padroniza/#casos-especiais","title":"Casos especiais:","text":"<ul> <li>A\u00e7\u00f5es irrelevantes ou inconsistentes s\u00e3o descartadas.</li> <li>Express\u00f5es como <code>\"a\u00e7\u00e3o realizada\"</code>, <code>\"ajuizar\"</code>, <code>\"aprovar\"</code>, etc., s\u00e3o exclu\u00eddas do resultado final por n\u00e3o representarem movimenta\u00e7\u00f5es funcionais.</li> </ul>"},{"location":"pages/padroniza/#5-categorizacao-de-tipos-em-grupos-funcionais","title":"\ud83e\uddee 5. Categoriza\u00e7\u00e3o de Tipos em Grupos Funcionais","text":""},{"location":"pages/padroniza/#funcao_1","title":"Fun\u00e7\u00e3o:","text":"<ul> <li><code>categorizar_tipo(tipo)</code></li> </ul>"},{"location":"pages/padroniza/#mapeamento-de-categorias","title":"Mapeamento de categorias:","text":"<ul> <li>Categoria 1 \u2013 Entrada:</li> <li>Ex: <code>nomear</code>, <code>designacao</code>, <code>posse</code></li> <li>Categoria 2 \u2013 Sa\u00edda:</li> <li>Ex: <code>exoneracao</code>, <code>dispensa</code>, <code>remocao</code>, <code>afastamento</code>, <code>vacancia</code></li> <li>Categoria 3 \u2013 Pens\u00e3o:</li> <li>Ex: <code>pensao</code>, <code>deferir pensao por morte</code>, <code>pensao vitalicia</code></li> <li>Categoria 18 \u2013 Outros/N\u00e3o Classificados</li> </ul>"},{"location":"pages/padroniza/#resultado-final","title":"\u2705 Resultado Final","text":"<p>O DataFrame final est\u00e1 estruturado com: - <code>TIPO</code>: A\u00e7\u00e3o padronizada (ex: <code>nomear</code>, <code>aposentadoria</code>) - <code>NOME</code>: Nome da pessoa envolvida - <code>CARGO</code>: Cargo funcional mencionado - <code>CATEGORIA</code>: N\u00famero identificador da categoria funcional (ex: 1 = Entrada, 2 = Sa\u00edda)</p> <p>Esse DataFrame pode ser utilizado para gera\u00e7\u00e3o de relat\u00f3rios, visualiza\u00e7\u00f5es, an\u00e1lises ou envio automatizado de notifica\u00e7\u00f5es e atualiza\u00e7\u00f5es institucionais.</p>"},{"location":"pages/padroniza/#exemplo-de-linha-final","title":"\ud83d\udcc1 Exemplo de Linha Final","text":"TIPO NOME CARGO CATEGORIA nomear Jo\u00e3o da Silva T\u00e9cnico Administrativo 1 aposentadoria Maria Oliveira Professora EBTT 2 remocao Carlos Pereira Analista Judici\u00e1rio 2"},{"location":"pages/pos_processo/","title":"\ud83d\udcc4 Documenta\u00e7\u00e3o: Etapa P\u00f3s-Limpeza no Script de Processamento DOU","text":"<p>Ap\u00f3s a execu\u00e7\u00e3o da fun\u00e7\u00e3o <code>limpeza_diaria(dia, mes, ano)</code>, o script segue a seguinte l\u00f3gica:</p> <ol> <li> <p>Extra\u00e7\u00e3o e Padroniza\u00e7\u00e3o de Dados    Os dados brutos do Di\u00e1rio Oficial da Uni\u00e3o (DOU) s\u00e3o extra\u00eddos com:</p> </li> <li> <p><code>scrape_in_links</code>: coleta os links do DOU.</p> </li> <li><code>ler_dataframe_diario</code>: envia os links para API de IA e interpreta os dados.</li> <li><code>raspagem_dataframe</code>: extrai campos relevantes com express\u00f5es regulares.</li> <li> <p><code>padronizar_dataframe</code>: normaliza os dados para o padr\u00e3o esperado.</p> </li> <li> <p>Valida\u00e7\u00e3o do DataFrame Final</p> </li> <li> <p>Se o <code>DataFrame</code> estiver vazio, o processo considera que nenhum dado foi encontrado para o dia anterior.</p> </li> <li> <p>Um e-mail de erro \u00e9 enviado via <code>enviar_email_erro()</code> e o processo \u00e9 encerrado.</p> </li> <li> <p>Inser\u00e7\u00e3o no Banco de Dados    Se houver dados:</p> </li> <li> <p>A fun\u00e7\u00e3o <code>inserir_dados()</code> insere os registros no banco de dados SQL Server.</p> </li> <li> <p>Caso haja erro na conex\u00e3o ou na inser\u00e7\u00e3o de alguma linha, um log de erro \u00e9 gerado e um e-mail de erro \u00e9 disparado.</p> </li> <li> <p>Envio de E-mail de Sucesso    Se a inser\u00e7\u00e3o for conclu\u00edda com sucesso:</p> </li> <li> <p>Um e-mail de confirma\u00e7\u00e3o \u00e9 enviado por <code>enviar_email_sucesso()</code>.</p> </li> <li> <p>Este e-mail cont\u00e9m:</p> <ul> <li>Quantidade total de registros inseridos.</li> <li>Data da execu\u00e7\u00e3o e data da publica\u00e7\u00e3o.</li> <li>Gr\u00e1ficos com distribui\u00e7\u00e3o por <code>TIPO</code> e <code>SIGLA</code> (\u00f3rg\u00e3os).</li> <li>Lista de destinat\u00e1rios em c\u00f3pia (<code>cc_list.txt</code>).</li> </ul> </li> </ol>"},{"location":"pages/pos_processo/#fluxograma-pos-processamento-diario-dou","title":"\ud83d\udcca Fluxograma: P\u00f3s-processamento Di\u00e1rio - DOU","text":"<pre><code>flowchart TD\n    A[In\u00edcio - Script Executado] --&gt; B[Calcular Dia de Execu\u00e7\u00e3o]\n    B --&gt; C{Dia \u00fatil?}\n    C -- N\u00e3o --&gt; Z[Fim: N\u00e3o executa em s\u00e1bados ou domingos]\n    C -- Sim --&gt; D[Executa limpeza_diaria(dia, mes, ano)]\n    D --&gt; E[scrape_in_links]\n    E --&gt; F[ler_dataframe_diario]\n    F --&gt; G[raspagem_dataframe]\n    G --&gt; H[padronizar_dataframe]\n    H --&gt; I{DataFrame vazio?}\n    I -- Sim --&gt; J[Enviar e-mail de erro: Nenhum dado processado]\n    J --&gt; Z\n    I -- N\u00e3o --&gt; K[inserir_dados()]\n    K --&gt; L{Erro na conex\u00e3o/inser\u00e7\u00e3o?}\n    L -- Sim --&gt; M[Enviar e-mail de erro com detalhes]\n    M --&gt; Z\n    L -- N\u00e3o --&gt; N[Enviar e-mail de sucesso com gr\u00e1ficos]\n    N --&gt; Z\n</code></pre>"}]}